<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YAHO</title>
    <link rel="stylesheet" href="/CSS/AnimeMain.css">
    <link rel="stylesheet" href="/CSS/info.css">
	<link rel="stylesheet" href="/CSS/footer.css">
    
<!-- Í∏∞Î≥∏ favicon -->
<link rel="icon" href="IMG/favicon/favicon.ico" type="image/x-icon">

<!-- ÌôïÏû• favicon -->
<link rel="shortcut icon" href="IMG/favicon/favicon.ico" type="image/x-icon">

<!-- PNG favicon -->
<link rel="icon" href="IMG/favicon/android-chrome-512x512.png" type="image/png">
 
<!-- ÏïÑÏù¥ÏΩò -->
<script src="https://kit.fontawesome.com/071aa8f784.js" crossorigin="anonymous"></script>
<!-- Ìà¨Ìëú Ï∞®Ìä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
    <div th:replace="~{fragments/nav :: navbar}"></div>

    <br><br>
    
    <div class="title" style="background-color: black;">
        <img src="" alt="">
	</div>
	
	<hr class="custom-hr"><br>

	<!-- carousel ÏãúÏûë -->
	<div class="carousel_main">
		<div class="carousel_wrapper">
			<div class="carousel_slide">
				<img src="IMG/TEST/test01.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test02.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test03.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test04.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test05.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test06.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test07.webp" />
			</div>
			<div class="carousel_slide">
				<img src="IMG/TEST/test08.webp" />
			</div>
		</div>
		
		<div class="carousel_button_container">
			<button type="button" class="carousel_prev">
				<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"
					fill="currentColor" class="bi bi-chevron-double-left"
					viewBox="0 0 16 16">
                <path fill-rule="evenodd"
						d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                <path fill-rule="evenodd"
						d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
            </svg>
			</button>
			<button type="button" class="carousel_next">
				<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"
					fill="currentColor" class="bi bi-chevron-double-right"
					viewBox="0 0 16 16">
                <path fill-rule="evenodd"
						d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z" />
                <path fill-rule="evenodd"
						d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z" />
            </svg>
			</button>
		</div>
		<div class="carousel_pagination">
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
			<div class="carousel_circle"></div>
		</div>
	</div>
	<!-- carousel ÎÅù -->

	<hr class="custom-hr"><br>
	
	<h2 style="color:#ffffff;"> &nbsp; - Ïò§ÎäòÏùò Ïï†Îãà</h2>
	<div class="swiper-container">
		<div class="swiper-wrapper" >
			<div class="swiper-slide" 
				th:each="anime : ${animeList}"
				th:data-anime-id="${anime.animeId}"
     			onclick="openModalDetail(this)">
     			
				<!-- camelCaseÎ°ú THUMBNAIL_GARO_URLÏùÑ ÏïÑÎûòÏôÄ Í∞ôÏù¥ ÏÑ§Ï†ïÌï¥ÎÜ®Ïùå -->
				<img th:src="${anime.thumnailGaroUrl}" alt="Ïù¥ÎØ∏ÏßÄ1">
				<div class="slide-title" th:text = "${anime.title}"></div>
			</div>
		</div>
		<!-- Ï¢åÏö∞ ÌôîÏÇ¥Ìëú -->
		<div class="swiper-button-prev"></div>
		<div class="swiper-button-next"></div>
	</div>

	<hr class="custom-hr"><br>
	
	<!-- Ïú†ÌäúÎ∏å -->
	<h2 style="color:#ffffff;"> &nbsp; - YouTube</h2>
	<div class="swiper-container-youtube">
	    <div class="swiper-wrapper">
	        <!-- ÏòÅÏÉÅ 1 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="9FCX_7tCcrk">
	                <img src="https://img.youtube.com/vi/9FCX_7tCcrk/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	        <!-- ÏòÅÏÉÅ 2 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="GjfSwJlq4rk">
	                <img src="https://img.youtube.com/vi/GjfSwJlq4rk/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	        <!-- ÏòÅÏÉÅ 3 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="BGlQakaaJDs">
	                <img src="https://img.youtube.com/vi/BGlQakaaJDs/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	        <!-- ÏòÅÏÉÅ 4 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="w1J9aH9DhrY">
	                <img src="https://img.youtube.com/vi/w1J9aH9DhrY/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	        <!-- ÏòÅÏÉÅ 5 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="ptc0YXw9ZOo">
	                <img src="https://img.youtube.com/vi/ptc0YXw9ZOo/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	        <!-- ÏòÅÏÉÅ 6 -->
	        <div class="swiper-slide">
	            <div class="youtube-thumbnail" data-video-id="VYFsjzOmJhk">
	                <img src="https://img.youtube.com/vi/VYFsjzOmJhk/0.jpg" alt="YouTube Ïç∏ÎÑ§Ïùº">
	                <div class="play-button">‚ñ∂</div>
	            </div>
	        </div>
	
	    </div>
	
	    <!-- Ï¢åÏö∞ ÌôîÏÇ¥Ìëú -->
	    <div class="swiper-button-prev"></div>
	    <div class="swiper-button-next"></div>
	</div>

	
	<hr class="custom-hr"><br>

	<!-- Î©îÏù∏ ÌïòÎã® -->
	<div class="main-bottom-wrapper">
	    <!-- ÏôºÏ™Ω : Ïù∏Í∏∞ Îû≠ÌÇπ -->
	    <div class="ranking-section">
	        <h2 style = "color: #fff;">üî• Ïù∏Í∏∞ Ïï†Îãà Îû≠ÌÇπ Top 10</h2>
	        <div class="swiper-container-ranking">
	            <div class="swiper-wrapper">
	                <div class="swiper-slide" th:each="anime, iterStat : ${animeListTop10}">
	                    <div class="rank-card"
     						th:classappend="${iterStat.count == 1 ? 'rank-1' : (iterStat.count == 2 ? 'rank-2' : (iterStat.count == 3 ? 'rank-3' : 'rank-others'))}"
     						th:data-anime-id="${anime.animeId}"
     						onclick="openModalDetail(this)">
							<div class="rank-number" th:text="${iterStat.count}"></div>
	                        <img th:src="${anime.thumnailSeroUrl}" alt="Ïç∏ÎÑ§Ïùº" class="rank-thumbnail">
	                        <div class="rank-info">
	                            <div class="rank-title" th:text="${anime.title}">Ïï†Îãà Ï†úÎ™©</div>
	                            <div class="rank-score" th:text="${anime.score} + 'Ï†ê'">9.5Ï†ê</div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	
	    <!-- Ïò§Î•∏Ï™Ω -->
	    <div class="vote-section">
		    
		</div>
	</div>
	
	<hr class="custom-hr"><br>
	
	<!-- Î™®Îã¨ -->
	<div id="animeModal" class="modal">
		<div class="modal_content">
			<span class="close" onclick="modal_close()">&times;</span>
			<div class="modal_div">

				<div class="modal_img">
					<img id="modal_img" src="" alt="Ïù¥ÎØ∏ÏßÄ">
				</div>
				
				<!-- Ïï†Îãà ÏÉÅÏÑ∏ Ï†ïÎ≥¥ -->
				<div class="anime-info-container">
					<div class="ani-content">
						<section class="ani-section">
							<div class="ani-row">
								<h2>Ïï†ÎãàÏ†úÎ™©</h2>
								<p id="anime_title"></p>
							</div>
							
							<div class="ani-row">
								<h2>Î∞©ÏòÅÏùº</h2>
								<p id="start_date"></p>
							</div>
							
							<div class="ani-row">
								<h2>Î∞©ÏòÅÏ∞®Ïàò</h2>
								<p id="total_episode"></p>
							</div>
							
							<div class="ani-row">
								<h2>Ï†úÏûëÏÇ¨</h2>
								<p id="studio">Ï†úÏûëÏÇ¨1</p>
							</div>
							
							<div class="ani-row">
								<h2>ÏÉÅÏòÅÎì±Í∏â</h2>
								<p id="age_rating"></p>
							</div>
							
							<div class="ani-summary">
								<h2>Ïï†Îãà Ï§ÑÍ±∞Î¶¨</h2>
								<p id="anime_desc">Ï§ÑÍ±∞Î¶¨ ÎÇ¥Ïö©</p>
								<span id="summaryButton" class="toggle-btn">ÎçîÎ≥¥Í∏∞</span>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
	</div>
	    <!-- Ïò§ÎîîÏò§ Ïû¨ÏÉù ÌÉúÍ∑∏ -->
    <audio id="audioPlayer" hidden autoplay muted></audio>

    <script th:inline="javascript">
       
		let playAudio = /*[[${playAudio}]]*/ false;
		console.log("playAudio ÌîåÎûòÍ∑∏ Í∞í:", playAudio); 

        if (playAudio) {
            const mp3Files = [
                "[[@{/ljj/audio/yahojhr.mp3}]]",
                "[[@{/ljj/audio/yahoasy.mp3}]]",
                "[[@{/ljj/audio/yahokrw.mp3}]]",
                "[[@{/ljj/audio/yahosgm.mp3}]]",
                "[[@{/ljj/audio/yaholjj.mp3}]]"
            ];

            function getRandomMP3() {
                const randomIndex = Math.floor(Math.random() * mp3Files.length);
                return mp3Files[randomIndex];
            }

            window.addEventListener("load", function () {
                const audioElement = document.getElementById("audioPlayer");
                console.log("audioElement Ï°¥Ïû¨ Ïó¨Î∂Ä:", audioElement);
                if (audioElement) {
                    audioElement.src = getRandomMP3();
                    audioElement.muted = false;
                    audioElement.play().then(() => {
                        console.log("üéµ Ïû¨ÏÉù ÏÑ±Í≥µ");
                    }).catch(error => {
                        console.log("‚ùå Ïû¨ÏÉù Ïã§Ìå®:", error);
                    });
                }
            });
        }
    </script>
	
	<footer class="footer-wrapper">
		<div class="footer-content">
			<div class="col left">
				<ul class="footer-nav">
					<li><a href="/Info/teamInfo">ÏÇ¨Ïù¥Ìä∏ÏÜåÍ∞ú</a></li>
					<li><a href="#">Ïù¥Ïö©ÏïΩÍ¥Ä</a></li>
					<li><a href="#">Í∞úÏù∏Ï†ïÎ≥¥ Ï∑®Í∏âÎ∞©Ïπ®</a></li>
					<li><a href="#">Ïù¥Ïö©ÏïàÎÇ¥</a></li>
				</ul>
				<hr>
				<div class="footer-info">
					<p>ÏÉÅÌò∏: NJM (ÎåÄÌëú : Ï°∞ÌòúÎ¶º)</p>
					<p>Ï£ºÏÜå: ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú Ï§ëÍµ¨ Í≥ÑÎ£°Î°ú 825 JSLÏù∏Ïû¨Í∞úÎ∞úÏõê</p>
					<p>Ï†ÑÌôî: 010-1111-2222</p>
					<p>ÏÇ¨ÏóÖÏûêÎì±Î°ùÏ†ÑÌôî: 000-00-00000</p>
				</div>
			</div>
			<div class="col center">
				<h2>Í≥†Í∞ùÏÑºÌÑ∞</h2>
				<h3>032-0000-0000</h3>
				<p>Ïõî-Í∏à 10:00-18:00</p>
				<ul class="socials">
					<li><a href="https://www.instagram.com/"><i class="fa-brands fa-instagram"></i></a></li>
					<li><a href="https://www.facebook.com/"><i class="fa-brands fa-square-facebook"></i></a></li>
					<li><a href="https://www.youtube.com/"><i class="fa-brands fa-youtube"></i></a></li>
				</ul>
			</div>
			<div class="col right">
				<h2>Ïª§ÎÆ§ÎãàÌã∞</h2>
				<p><a href="#">Í≥µÏßÄÏÇ¨Ìï≠</a></p>
				<p><a href="#">Í≤åÏãúÌåê</a></p>
				<p><a href="#">NEW</a></p>
			</div>	
		</div>
		<div class="copyright">
			<p>Copyright &copy; YAHO. All rights reserved.
		</div>
	</footer>

	<!-- Swiper JS -->
	<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>  
</body>
<script>
	function openModalDetail(el) {
		const animeId = el.getAttribute("data-anime-id");
		const userId = "aa1111"; // Î°úÍ∑∏Ïù∏ Ï§ëÏù∏ Ïú†Ï†Ä ID, ÌòÑÏû¨ ÏïÑÏßÅ Í∏∞Îä•Ïù¥ ÏóÜÏúºÎØÄÎ°ú ÏûÑÏãúÎ°ú aa1111Î°ú ÏÑ§Ï†ï
		
		// Í∏∞Î≥∏ Ï†ïÎ≥¥ Î°úÎî©
		fetch(`Main/anime/baseInfo?animeId=${animeId}`)
		    .then(res => res.json())
		    .then(data => {
	            console.log("Í∏∞Î≥∏ Ï†ïÎ≥¥:", data);
		        const titleEl = document.getElementById("anime_title");
		        const animeGaroImgEl = document.getElementById("modal_img");
		
		        if (titleEl) titleEl.innerText = data.title || "Ï†úÎ™© ÏóÜÏùå";
		        if (animeGaroImgEl) animeGaroImgEl.setAttribute("src", data.thumnailGaroUrl || "IMG/default.png");
		    });
		
		// ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î°úÎî©
		fetch(`Main/anime/detailInfo?animeId=${animeId}`)
		    .then(res => res.json())
		    .then(data => {
		        const startDateEl = document.getElementById("start_date");
		        const totalEpEl = document.getElementById("total_episode");
		        const studioEl = document.getElementById("studio");
		        const studioLinkEl = document.getElementById("studio_link");
		        const ratingEl = document.getElementById("age_rating");
		        const descEl = document.getElementById("anime_desc");
		
		        if (startDateEl) startDateEl.innerText = data.startDate.substring(0, 10) || "Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.";
		        if (totalEpEl) totalEpEl.innerText = data.totalEpisode || "Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.";
		        
		        if (studioEl) {
		        //	studioLinkEl.setAttribute("href", data.studioLink);
		        //	studioLinkEl.setAttribute("target", "_blank"); // ÏÉà Ï∞Ω Ïó¥Í∏∞
		        	studioEl.innerText = data.studio || "Ï†úÏûëÏÇ¨ Ï†ïÎ≥¥ ÏóÜÏùå";
		        }
		        
		        if (ratingEl) ratingEl.innerText = data.ageRating || "ÎØ∏Ï†ï";
		        if (descEl) descEl.innerHTML = (data.animeDesc || "ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.").replace(/\n/g, "<br>");
		    });


		// Î™®Îã¨ Ïó¥Í∏∞
		document.getElementById("animeModal").style.display = "block";
	}

    
    document.addEventListener("DOMContentLoaded", function () {
        var swiper = new Swiper(".swiper-container", {
            slidesPerView: 4, // Ìïú Î≤àÏóê Î≥¥Ïù¥Îäî Ïä¨ÎùºÏù¥Îìú Í∞úÏàò
            spaceBetween: 20, // Ïù¥ÎØ∏ÏßÄ Í∞ÑÍ≤©
            loop: false, // Î¨¥Ìïú Î£®ÌîÑ Ïó¨Î∂Ä
            grabCursor: true, // ÎßàÏö∞Ïä§ Ïª§ÏÑúÎ•º ÏÜêÎ™®ÏñëÏúºÎ°ú Î≥ÄÍ≤Ω
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            breakpoints: {
                1024: { slidesPerView: 4 },
                768: { slidesPerView: 3 },
                480: { slidesPerView: 2 },
            },
        });

    	// Ïù¥ÎØ∏ÏßÄ ÌÅ¥Î¶≠ Ïãú ÌäπÏ†ï ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
    	document.querySelectorAll(".swiper-slide").forEach((slide, index) => {
			slide.addEventListener("click", () => {
				//window.location.href = `https:example.com/page${index + 1}`;
			});
		});
    });
    
    document.addEventListener("DOMContentLoaded", function () {
        const maxLength = 15; // ÏµúÎåÄ Í∏ÄÏûê Ïàò (ÏõêÌïòÎäî Í∞íÏúºÎ°ú Î≥ÄÍ≤Ω)

        document.querySelectorAll(".slide-title").forEach(titleElement => {
            let fullTitle = titleElement.textContent.trim(); // ÏõêÎûò Ï†úÎ™© Í∞ÄÏ†∏Ïò§Í∏∞
            
            if (fullTitle.length > maxLength) {
                titleElement.setAttribute("data-title", fullTitle); // data-titleÏóê ÏõêÏ†úÎ™© Ï†ÄÏû•
                titleElement.textContent = fullTitle.substring(0, maxLength) + "..."; // Ï∂ïÏïΩ ÌõÑ ÌëúÏãú
            }
        });
    });
  
 	// Î™®Îã¨ Îã´Í∏∞ Ìï®Ïàò
    function modal_close() {
	    // Î™®Îã¨ ÎÇ¥Î∂Ä Ïä§ÌÅ¨Î°§ Î®ºÏ†Ä Ï¥àÍ∏∞Ìôî
	    const modalContent = document.querySelector('.modal_content');
	    if (modalContent) {
	        modalContent.scrollTop = 0;
	    }
	
	    // Î™®Îã¨ Ïà®Í∏∞Í∏∞
	    document.getElementById("animeModal").style.display = "none";
	
	    // Ï§ÑÍ±∞Î¶¨ ÎçîÎ≥¥Í∏∞ Ï¥àÍ∏∞Ìôî
	    const summaryText = document.querySelector('.ani-summary p');
	    const summaryButton = document.getElementById('summaryButton');
	    if (summaryText.classList.contains('expanded')) {
	        summaryText.classList.remove('expanded');
	        summaryButton.textContent = 'ÎçîÎ≥¥Í∏∞';
	    }
	}




    // Î™®Îã¨ Î∞îÍπ• ÏòÅÏó≠ ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞ Í∏∞Îä• Ï∂îÍ∞Ä
    window.onclick = function(event) {
        let modal = document.getElementById("animeModal");
        if (event.target === modal) {  // Î™®Îã¨ Î∞îÍπ• ÌÅ¥Î¶≠ Ïãú
            modal_close();  // Î™®Îã¨ Îã´Í∏∞ Ïã§Ìñâ
        }
    };

    // nav Ïä§ÌÅ¨Î°§ Ïãú Î∞òÌà¨Î™ÖÌôî
    window.addEventListener("scroll", function () {
        let nav = document.querySelector(".nav");
        let scrollY = window.scrollY;

        // Ìà¨Î™ÖÎèÑ Î≤îÏúÑ Í≥ÑÏÇ∞ (0.9 ~ 0.3 ÏÇ¨Ïù¥)
        let baseOpacity = Math.max(0.9, 0.9 - scrollY / 300);

        // ÏúÑÏ™ΩÏùÄ ÏßÑÌïòÍ≥†, ÏïÑÎûòÏ™ΩÏùÄ Ìà¨Î™ÖÌï¥ÏßÄÎäî Í∑∏ÎùºÎç∞Ïù¥ÏÖò ÏÉùÏÑ±
        nav.style.background = `linear-gradient(to bottom, rgba(20, 20, 20, ${baseOpacity}) 0%, rgba(20, 20, 20, 0) 100%)`;
    });


    // Ïú†ÌäúÎ∏å Ï∫êÎü¨ÏÖÄ ÏûêÎèô Ïù¥Îèô
    const swiper = new Swiper('.swiper-container-youtube', {
	    loop: true,
	    autoplay: {
	        delay: 3000,
	        disableOnInteraction: false, // ÏÇ¨Ïö©ÏûêÍ∞Ä ÎÑòÍ≤®ÎèÑ autoplay Ïú†ÏßÄ
	        pauseOnMouseEnter: true,     // ÎßàÏö∞Ïä§ Ïò¨Î¶¨Î©¥ Î©àÏ∂îÍ∏∞
	    },
	    navigation: {
	        nextEl: '.swiper-button-next',
	        prevEl: '.swiper-button-prev',
	    },
	    slidesPerView: 4,
	    spaceBetween: 10,
	    speed: 1000,
	    slidesPerGroup: 1,
	});

</script>

<!-- Ï∫êÎü¨ÏÖÄ -->
<script>
const CSswiper = document.querySelector('.carousel_wrapper');
const prevButtons = document.querySelectorAll('.carousel_prev');
const nextButtons = document.querySelectorAll('.carousel_next');
const bullets = document.querySelectorAll('.carousel_circle');
const totalSlides = 7;
let currentSlide = 0;

function showSlide(slideIndex) {
	CSswiper.style.transform = `translateX(-${slideIndex * 1300}px)`;
    currentSlide = slideIndex;

    bullets.forEach((bullet, index) => {
        if (index === currentSlide) {
            bullet.classList.add('active');
        } else {
            bullet.classList.remove('active');
        }
    });
}

prevButtons.forEach((prevButton) => {
    prevButton.addEventListener('click', () => {
    	if (currentSlide === 0) {
            showSlide(totalSlides); // Ï≤´ Î≤àÏß∏ Ïä¨ÎùºÏù¥ÎìúÏóêÏÑú ÏôºÏ™Ω ÎàÑÎ•¥Î©¥ ÎßàÏßÄÎßâÏúºÎ°ú Ïù¥Îèô
        } else {
            showSlide(currentSlide - 1);
        }
    });
});

nextButtons.forEach((nextButton) => {
    nextButton.addEventListener('click', () => {
    	if (currentSlide === totalSlides) {
            showSlide(0); // ÎßàÏßÄÎßâ Ïä¨ÎùºÏù¥ÎìúÏóêÏÑú Ïò§Î•∏Ï™Ω ÎàÑÎ•¥Î©¥ Ï≤òÏùåÏúºÎ°ú Ïù¥Îèô
        } else {
            showSlide(currentSlide + 1);
        }
    });
});

bullets.forEach((bullet, index) => {
    bullet.addEventListener('click', () => {
        showSlide(index);
    });
});

showSlide(0);
</script>

<script>
//Î™®Îã¨ ÎÇ¥Î∂Ä Ï§ÑÍ±∞Î¶¨ ÌôïÏû• Î≤ÑÌäº
  const summaryText = document.querySelector('.ani-summary p');
  const summaryButton = document.getElementById('summaryButton');

  summaryButton.addEventListener('click', () => {
    summaryText.classList.toggle('expanded');
    if (summaryText.classList.contains('expanded')) {
      summaryButton.textContent = 'Ï†ëÍ∏∞';
    } else {
      summaryButton.textContent = 'ÎçîÎ≥¥Í∏∞';
    }
  });
</script>

<!-- Ïú†ÌäúÎ∏å -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.youtube-thumbnail').forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
            const videoId = this.dataset.videoId;
            this.innerHTML = `<iframe width="400" height="315"
                                src="https://www.youtube.com/embed/${videoId}?autoplay=1"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>`;
        });
    });

    // Ïú†ÌäúÎ∏å Ï∫êÎü¨ÏÖÄ Swiper ÌôúÏÑ±Ìôî
    const swiper = new Swiper('.swiper-container-youtube', {
        loop: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        slidesPerView: 4,
        spaceBetween: 10,
        speed: 1000,
        loopedSlides: 4,
        slidesPerGroup: 1,
    });
});
</script>

<!-- Ïï†Îãà Îû≠ÌÇπ Ï∫êÎü¨ÏÖÄ -->
<script>
const swiperRanking = new Swiper('.swiper-container-ranking', {
    direction: 'vertical',
    slidesPerView: 5,
    spaceBetween: 10,
    loop: true,
    autoplay: {
        delay: 2500,
        disableOnInteraction: false,
    },
});



</script>

<script src="/js/navbar.js"></script>
</html>