<!-- templates/fragments/nav.html -->
<style>
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');

.dropdown{
  position : relative;
  display : inline-block;
}

.dropbtn_icon{
  font-family : 'Material Icons';
}
.dropbtn{
  border : 1px solid rgb(37, 37, 37);
  border-radius : 4px;
  background-color: #f5f5f5;
  font-weight: 400;
  color : rgb(37, 37, 37);
  padding : 12px;
  width :200px;
  text-align: left;
  cursor : pointer;
  font-size : 12px;
}
.dropdown-content{
  display : none;
  position : absolute;
  z-index : 1; /*다른 요소들보다 앞에 배치*/
  font-weight: 400;
  background-color: #f9f9f9;
  min-width : 200px;
}

.dropdown-content a{
  display : block;
  text-decoration : none;
  color : rgb(37, 37, 37);
  font-size: 12px;
  padding : 12px 20px;
}

.dropdown-content a:hover{
  background-color : #ececec
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>
<div class="nav" th:fragment="navbar">
    <img src="/IMG/logo_test1.png">
    <div class="navitem" onclick="location.href='/Main'">홈</div>
    <div class="navitem" onclick="location.href='/List'">전체 애니</div>
    <div class="navitem" onclick="location.href='/Schedule/animeSchedule'">방영중 애니</div>

    <div th:if="${USER_PERMISSION == 2}">
        <div class="navitem" onclick="location.href='/Admin/insert'">관리자</div>
    </div>

    <div style="display: flex; margin-left: auto;">
        <div class="navitem" th:if="${session.USER_ID == null}">
            <a th:href="@{/User/User_Login}">로그인</a>
        </div>
        <div class="navitem" th:if="${session.USER_ID == null}">
            <a th:href="@{/User/User_EmailCheck}">회원가입</a>
        </div>
        
        <div class="user-menu-container">
		    <!-- 드롭다운 메뉴 -->
		    <div class="profile-dropdown" id="profileMenu">
		    	<button class="dropbtn"> 
			        <img th:src="${#strings.isEmpty(USER_PROFILE_IMG) ? '/IMG/default_profile_img.png' : USER_PROFILE_IMG}" alt="프로필 이미지" class="profile-img">
			        View More
				</button>
				<div class="dropdown-content">
			        <div class="dropdown-item" onclick="location.href='/User/User_Profile'">프로필</div>
			        <div class="dropdown-item" onclick="location.href='/User/User_Modify'">정보수정</div>
					<div class="dropdown-item" onclick="location.href='/User/User_Logout'">로그아웃</div>
				</div>
		    </div>
		</div>
		
		
    </div>
</div>

